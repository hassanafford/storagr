# ๐ ูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช - Supabase SQL Files

## ๐ฏ ุงูููู ุงูููุตู ุจู ููุงุณุชุฎุฏุงู

### โ `complete_setup.sql` - ุงูุฅุนุฏุงุฏ ุงููุงูู (ููุตู ุจู)

**ูุฐุง ูู ุงูููู ุงูุฐู ูุฌุจ ุงุณุชุฎุฏุงูู!**

ูุญุชูู ุนูู ูู ุดูุก ูู ููู ูุงุญุฏ:
- โ ุชูุธูู ูุงูู ููุฌุฏุงูู ุงููุฏููุฉ
- โ ุฅูุดุงุก ุฌููุน ุงูุฌุฏุงูู (warehouses, users, items, transactions, notifications, etc.)
- โ ุฅุถุงูุฉ 12 ูุฎุฒู + 13 ูุณุชุฎุฏู (1 admin + 12 employee)
- โ ุฅุนุฏุงุฏ Functions ู Triggers
- โ ุชูุนูู Row Level Security
- โ ุฅูุดุงุก Views ูููุฏุฉ
- โ ุฑุณุงุฆู ุชุญูู ูู ุงููุฌุงุญ

**ููููุฉ ุงูุงุณุชุฎุฏุงู:**
1. ุงูุชุญ Supabase Dashboard โ SQL Editor
2. ุงูุณุฎ ูุญุชูู `complete_setup.sql`
3. ุงูุตู ูู SQL Editor
4. ุงุถุบุท Run
5. ุงูุชุธุฑ 10-15 ุซุงููุฉ
6. ุณุชุธูุฑ ุฑุณุงูุฉ ูุฌุงุญ ูุน ุงูุฅุญุตุงุฆูุงุช

---

## ๐ ุงููููุงุช ุงูุฃุฎุฑู (ุงุฎุชูุงุฑูุฉ)

### `cleanup.sql` - ุงูุชูุธูู ููุท
- ูุญุฐู ุฌููุน ุงูุฌุฏุงูู ูุงูู Views ูุงูู Functions ุงููุฏููุฉ
- ุงุณุชุฎุฏูู ููุท ุฅุฐุง ููุช ุชุฑูุฏ ุงูุชูุธูู ุจุฏูู ุฅุนุงุฏุฉ ุงูุฅูุดุงุก
- โ๏ธ ุชุญุฐูุฑ: ุณูุญุฐู ุฌููุน ุงูุจูุงูุงุช!

### `schema.sql` - ุงูุฅูุดุงุก ููุท
- ููุดุฆ ุงูุฌุฏุงูู ูุงูุจูุงูุงุช ุจุฏูู ุชูุธูู
- ุงุณุชุฎุฏูู ููุท ุฅุฐุง ูุงูุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงุฑุบุฉ
- ูุญุชูู ุนูู ููุณ ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ูู `complete_setup.sql`

---

## ๐ ุงูุจูุงูุงุช ุงูููุฏุฑุฌุฉ

### ุงููุฎุงุฒู (12 ูุฎุฒู):
1. ุงููุฎุฒู ุงูุฑุฆูุณู
2. ูุฎุฒู ุงููุฎุชุจุฑ
3. ูุฎุฒู ุงูููุชุจุฉ
4. ูุฎุฒู ุงูููุงุจุณ
5. ูุฎุฒู ุงูุฃุซุงุซ
6. ูุฎุฒู ุงูุฅููุชุฑูููุงุช
7. ูุฎุฒู ุงูุฃุฏูุงุช
8. ูุฎุฒู ุงูููุงุฏ ุงูุบุฐุงุฆูุฉ
9. ูุฎุฒู ุงูุชูุธูู
10. ูุฎุฒู ุงูุฑูุงุถุฉ
11. ูุฎุฒู ุงููููู
12. ูุฎุฒู ุงูุฅุณุนุงูุงุช

### ุงููุณุชุฎุฏููู (13 ูุณุชุฎุฏู):
- **1 ูุณุคูู (Admin):**
  - ุงูุฑูู ุงููููู: `12345678901234`
  - ูููุฉ ุงููุฑูุฑ: `901234`
  - ูุง ูุฑุชุจุท ุจูุฎุฒู ูุญุฏุฏ (ูุฑู ุฌููุน ุงููุฎุงุฒู)

- **12 ููุธู (Employee):**
  - ูู ููุธู ูุฑุชุจุท ุจูุฎุฒู ูุงุญุฏ
  - ูููุฉ ุงููุฑูุฑ = ุขุฎุฑ 6 ุฃุฑูุงู ูู ุงูุฑูู ุงููููู
  - ูุซุงู: `11111111111111` โ ูููุฉ ุงููุฑูุฑ: `111111`

### ุงููุฆุงุช (7 ูุฆุงุช):
1. ูุฑุทุงุณูุฉ
2. ุฃุซุงุซ
3. ุฅููุชุฑูููุงุช
4. ูุธุงูุฉ
5. ูุชุจ
6. ุฑูุงุถุฉ
7. ูุฎุชุจุฑุงุช

### ุฃุตูุงู ุชุฌุฑูุจูุฉ (7 ุฃุตูุงู):
- ุฃููุงู ุฌุงู ุฃุฒุฑู (500 ููู)
- ุฏูุงุชุฑ 100 ูุฑูุฉ (300 ุฏูุชุฑ)
- ููุงุชุจ ุฎุดุจูุฉ (50 ูุทุนุฉ)
- ูุฑุงุณู ุจูุงุณุชูู (100 ูุทุนุฉ)
- ุฃุฌูุฒุฉ ููุจููุชุฑ (25 ุฌูุงุฒ)
- ููุงุฏ ุชูุธูู (150 ุนุจูุฉ)
- ูุชุจ ุฑูุงุถูุงุช (200 ูุชุงุจ)

---

## ๐ง ูุง ูุชู ุฅูุดุงุคู

### ุงูุฌุฏุงูู (7 ุฌุฏุงูู):
- `warehouses` - ุงููุฎุงุฒู
- `categories` - ุงููุฆุงุช
- `users` - ุงููุณุชุฎุฏููู
- `items` - ุงูุฃุตูุงู
- `transactions` - ุงููุนุงููุงุช
- `notifications` - ุงูุฅุดุนุงุฑุงุช
- `audit_logs` - ุณุฌู ุงูุชุฏููู

### Functions (5 ุฏูุงู):
- `get_egyptian_time()` - ุงูุญุตูู ุนูู ุงูููุช ุงููุตุฑู
- `update_updated_at_column()` - ุชุญุฏูุซ ููุช ุงูุชุนุฏูู ุชููุงุฆูุงู
- `check_low_stock()` - ูุญุต ุงููุฎุฒูู ุงูููุฎูุถ
- `log_quantity_change()` - ุชุณุฌูู ุชุบููุฑุงุช ุงููููุฉ
- `get_warehouse_stats()` - ุญุณุงุจ ุฅุญุตุงุฆูุงุช ุงููุฎุฒู

### Triggers (5 ูุญูุฒุงุช):
- ุชุญุฏูุซ `updated_at` ุชููุงุฆูุงู ุนูู ุงูุฌุฏุงูู
- ูุญุต ุงููุฎุฒูู ุงูููุฎูุถ ูุฅุฑุณุงู ุฅุดุนุงุฑุงุช

### Views (3 ุนุฑูุถ):
- `items_full_view` - ุนุฑุถ ุงูุฃุตูุงู ูุน ูุนูููุงุช ูุงููุฉ
- `transactions_full_view` - ุนุฑุถ ุงููุนุงููุงุช ูุน ูุนูููุงุช ูุงููุฉ
- `low_stock_items_view` - ุนุฑุถ ุงูุฃุตูุงู ุฐุงุช ุงููุฎุฒูู ุงูููุฎูุถ

### Indexes (14 ููุฑุณ):
- ููุงุฑุณ ุนูู ุงูุฃุนูุฏุฉ ุงููููุฉ ูุชุญุณูู ุงูุฃุฏุงุก

### Row Level Security:
- ุณูุงุณุงุช ุฃูุงู ุนูู ุฌููุน ุงูุฌุฏุงูู
- ุญุงููุงู ููุชูุญุฉ ููุชุทููุฑ (`USING true`)
- ูุฌุจ ุชุดุฏูุฏูุง ููุฅูุชุงุฌ ูุงุญูุงู

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ุงูุชูููุฐ:**
   - ุงุณุชุฎุฏู `complete_setup.sql` ููุท
   - ูุง ุชููุฐ `cleanup.sql` ู `schema.sql` ูุนุงู

2. **Realtime:**
   - ูุฌุจ ุชูุนููู ูุฏููุงู ูู Dashboard
   - Database > Replication > Enable
   - ูุนูู ุนูู: items, transactions, notifications, users, warehouses

3. **ุงูุฃูุงู:**
   - ุงูุณูุงุณุงุช ุงูุญุงููุฉ ููุชูุญุฉ ููุชุทููุฑ
   - ูุฌุจ ุชุดุฏูุฏูุง ูุจู ุงูุฅูุชุงุฌ
   - ุงุณุชุฎุฏู JWT tokens ูู ุงูุฅูุชุงุฌ

4. **ุงูุจูุงูุงุช:**
   - ุงูุจูุงูุงุช ุงูููุฏุฑุฌุฉ ูู ุจูุงูุงุช ุญููููุฉ ูููุดุฑูุน
   - 12 ูุฎุฒู + 13 ูุณุชุฎุฏู
   - ูููู ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุฃุตูุงู ูุงุญูุงู

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุชูููุฐ `complete_setup.sql`:

1. โ ุชูุนูู Realtime ุนูู ุงูุฌุฏุงูู
2. โ ูุณุฎ SUPABASE_URL ู SUPABASE_ANON_KEY
3. โ ุฅุถุงูุชูู ูู ููู `.env`
4. โ ุชุดุบูู ุงููุดุฑูุน ูุญููุงู
5. โ ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู
6. โ ุงููุดุฑ ุนูู Vercel

---

## ๐ ููุฏุนู

ุฑุงุฌุน ููู `SETUP_INSTRUCTIONS.txt` ูู ุงููุฌูุฏ ุงูุฑุฆูุณู ููุญุตูู ุนูู ุชุนูููุงุช ููุตูุฉ.

---

**ุชู ุฅูุดุงุก ูุฐู ุงููููุงุช ุจูุงุณุทุฉ ูุธุงู ุฅุฏุงุฑุฉ ูุฎุงุฒู ุงููุฏุฑุณุฉ**